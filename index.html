<!DOCTYPE html>
<html lang="mr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CryptoMitra - Coin Trading Platform</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .coin-animation {
            animation: coinFloat 2s ease-in-out infinite;
        }
        @keyframes coinFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .trade-success {
            animation: successPulse 0.5s ease-out;
        }
        @keyframes successPulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-900 via-purple-900 to-indigo-900 min-h-screen text-white">
    <!-- Header -->
    <header class="bg-black bg-opacity-30 backdrop-blur-md p-4 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <div class="flex items-center space-x-3">
                <div class="w-10 h-10 bg-gradient-to-r from-yellow-400 to-orange-500 rounded-full flex items-center justify-center coin-animation">
                    <span class="text-xl font-bold text-black">₹</span>
                </div>
                <h1 class="text-2xl font-bold bg-gradient-to-r from-yellow-400 to-orange-500 bg-clip-text text-transparent">CryptoMitra</h1>
            </div>
            <div class="flex items-center space-x-4">
                <div class="bg-green-600 px-4 py-2 rounded-lg">
                    <span class="font-semibold">Balance: <span id="userBalance">50</span> coins</span>
                </div>
                <button onclick="showAdminLogin()" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                    Admin
                </button>
            </div>
        </div>
    </header>

    <!-- Main Trading Interface -->
    <div id="tradingInterface" class="container mx-auto p-6">
        <div class="grid md:grid-cols-2 gap-8">
            <!-- Available Coins -->
            <div class="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 shadow-xl">
                <h2 class="text-2xl font-bold mb-6 text-center">Available Coins</h2>
                <div id="coinsList" class="space-y-4">
                    <!-- Coins will be populated by JavaScript -->
                </div>
            </div>

            <!-- Trading Panel -->
            <div class="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 shadow-xl">
                <h2 class="text-2xl font-bold mb-6 text-center">Trade Coins</h2>
                <div id="tradingForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium mb-2">Select Coin</label>
                        <select id="selectedCoin" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white">
                            <option value="">Choose a coin...</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Action</label>
                        <div class="flex space-x-4">
                            <button id="buyBtn" onclick="setTradeAction('buy')" class="flex-1 bg-green-600 hover:bg-green-700 py-3 rounded-lg font-semibold transition-colors">
                                Buy
                            </button>
                            <button id="sellBtn" onclick="setTradeAction('sell')" class="flex-1 bg-red-600 hover:bg-red-700 py-3 rounded-lg font-semibold transition-colors">
                                Sell
                            </button>
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm font-medium mb-2">Amount</label>
                        <input type="number" id="tradeAmount" min="1" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-4 py-3 text-white" placeholder="Enter amount">
                    </div>
                    <button onclick="executeTrade()" class="w-full bg-blue-600 hover:bg-blue-700 py-3 rounded-lg font-semibold transition-colors">
                        Execute Trade
                    </button>
                </div>
            </div>
        </div>

        <!-- Portfolio -->
        <div class="mt-8 bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 shadow-xl">
            <h2 class="text-2xl font-bold mb-6 text-center">Your Portfolio</h2>
            <div id="portfolio" class="grid md:grid-cols-3 gap-4">
                <!-- Portfolio will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Admin Login Modal -->
    <div id="adminLoginModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50">
        <div class="bg-gray-800 rounded-xl p-8 max-w-md w-full mx-4">
            <h2 class="text-2xl font-bold mb-6 text-center">Admin Login</h2>
            <div class="space-y-4">
                <input type="text" id="adminUsername" placeholder="Username" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white">
                <input type="password" id="adminPassword" placeholder="Password" class="w-full bg-gray-700 border border-gray-600 rounded-lg px-4 py-3 text-white">
                <div class="flex space-x-4">
                    <button onclick="adminLogin()" class="flex-1 bg-green-600 hover:bg-green-700 py-3 rounded-lg font-semibold transition-colors">
                        Login
                    </button>
                    <button onclick="hideAdminLogin()" class="flex-1 bg-gray-600 hover:bg-gray-700 py-3 rounded-lg font-semibold transition-colors">
                        Cancel
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Admin Panel -->
    <div id="adminPanel" class="hidden container mx-auto p-6">
        <div class="bg-white bg-opacity-10 backdrop-blur-md rounded-xl p-6 shadow-xl">
            <div class="flex justify-between items-center mb-6">
                <h2 class="text-2xl font-bold">Admin Dashboard</h2>
                <button onclick="logoutAdmin()" class="bg-red-600 hover:bg-red-700 px-4 py-2 rounded-lg transition-colors">
                    Logout
                </button>
            </div>
            
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Trading Statistics -->
                <div class="bg-gray-800 rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-4">Trading Statistics</h3>
                    <div id="tradingStats" class="space-y-3">
                        <!-- Stats will be populated by JavaScript -->
                    </div>
                </div>

                <!-- All Transactions -->
                <div class="bg-gray-800 rounded-lg p-6">
                    <h3 class="text-xl font-bold mb-4">Recent Transactions</h3>
                    <div id="allTransactions" class="space-y-2 max-h-64 overflow-y-auto">
                        <!-- Transactions will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Coin Management -->
            <div class="mt-8 bg-gray-800 rounded-lg p-6">
                <h3 class="text-xl font-bold mb-4">Coin Management</h3>
                <div class="grid md:grid-cols-4 gap-4 mb-4">
                    <input type="text" id="newCoinName" placeholder="Coin Name" class="bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white">
                    <input type="text" id="newCoinSymbol" placeholder="Symbol" class="bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white">
                    <input type="number" id="newCoinPrice" placeholder="Price" class="bg-gray-700 border border-gray-600 rounded-lg px-4 py-2 text-white">
                    <button onclick="addNewCoin()" class="bg-blue-600 hover:bg-blue-700 py-2 rounded-lg font-semibold transition-colors">
                        Add Coin
                    </button>
                </div>
                <div id="coinManagement" class="space-y-2">
                    <!-- Coin management will be populated by JavaScript -->
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let userBalance = 50;
        let userPortfolio = {};
        let currentTradeAction = '';
        let isAdmin = false;
        let allTransactions = [];
        
        // Initial coins data
        let availableCoins = {
            'BTC': { name: 'Bitcoin', price: 45000, change: '+2.5%' },
            'ETH': { name: 'Ethereum', price: 3200, change: '+1.8%' },
            'ADA': { name: 'Cardano', price: 1.2, change: '-0.5%' },
            'DOT': { name: 'Polkadot', price: 25, change: '+3.2%' },
            'SOL': { name: 'Solana', price: 180, change: '+5.1%' }
        };

        // Initialize the application
        function init() {
            updateBalance();
            renderCoins();
            populateCoinSelect();
            updatePortfolio();
            updateAdminStats();
        }

        // Update balance display
        function updateBalance() {
            document.getElementById('userBalance').textContent = userBalance;
        }

        // Render available coins
        function renderCoins() {
            const coinsList = document.getElementById('coinsList');
            coinsList.innerHTML = '';
            
            Object.keys(availableCoins).forEach(symbol => {
                const coin = availableCoins[symbol];
                const changeClass = coin.change.startsWith('+') ? 'text-green-400' : 'text-red-400';
                
                coinsList.innerHTML += `
                    <div class="bg-gray-800 rounded-lg p-4 flex justify-between items-center">
                        <div>
                            <h3 class="font-bold">${coin.name} (${symbol})</h3>
                            <p class="text-gray-400">₹${coin.price.toLocaleString()}</p>
                        </div>
                        <div class="text-right">
                            <p class="${changeClass} font-semibold">${coin.change}</p>
                        </div>
                    </div>
                `;
            });
        }

        // Populate coin select dropdown
        function populateCoinSelect() {
            const select = document.getElementById('selectedCoin');
            select.innerHTML = '<option value="">Choose a coin...</option>';
            
            Object.keys(availableCoins).forEach(symbol => {
                const coin = availableCoins[symbol];
                select.innerHTML += `<option value="${symbol}">${coin.name} (${symbol}) - ₹${coin.price}</option>`;
            });
        }

        // Set trade action
        function setTradeAction(action) {
            currentTradeAction = action;
            document.getElementById('buyBtn').classList.remove('bg-green-800');
            document.getElementById('sellBtn').classList.remove('bg-red-800');
            
            if (action === 'buy') {
                document.getElementById('buyBtn').classList.add('bg-green-800');
            } else {
                document.getElementById('sellBtn').classList.add('bg-red-800');
            }
        }

        // Execute trade
        function executeTrade() {
            const selectedCoin = document.getElementById('selectedCoin').value;
            const amount = parseInt(document.getElementById('tradeAmount').value);
            
            if (!selectedCoin || !amount || !currentTradeAction) {
                alert('कृपया सर्व फील्ड भरा!');
                return;
            }

            const coin = availableCoins[selectedCoin];
            const totalCost = coin.price * amount;

            if (currentTradeAction === 'buy') {
                if (userBalance >= totalCost) {
                    userBalance -= totalCost;
                    userPortfolio[selectedCoin] = (userPortfolio[selectedCoin] || 0) + amount;
                    
                    // Add transaction
                    allTransactions.unshift({
                        type: 'BUY',
                        coin: selectedCoin,
                        amount: amount,
                        price: coin.price,
                        total: totalCost,
                        timestamp: new Date().toLocaleString()
                    });
                    
                    alert(`✅ ${amount} ${selectedCoin} खरेदी यशस्वी!`);
                } else {
                    alert('❌ अपुरा बॅलन्स!');
                    return;
                }
            } else if (currentTradeAction === 'sell') {
                if (userPortfolio[selectedCoin] && userPortfolio[selectedCoin] >= amount) {
                    userBalance += totalCost;
                    userPortfolio[selectedCoin] -= amount;
                    
                    if (userPortfolio[selectedCoin] === 0) {
                        delete userPortfolio[selectedCoin];
                    }
                    
                    // Add transaction
                    allTransactions.unshift({
                        type: 'SELL',
                        coin: selectedCoin,
                        amount: amount,
                        price: coin.price,
                        total: totalCost,
                        timestamp: new Date().toLocaleString()
                    });
                    
                    alert(`✅ ${amount} ${selectedCoin} विक्री यशस्वी!`);
                } else {
                    alert('❌ अपुरे कॉइन्स!');
                    return;
                }
            }

            // Update displays
            updateBalance();
            updatePortfolio();
            updateAdminStats();
            
            // Clear form
            document.getElementById('selectedCoin').value = '';
            document.getElementById('tradeAmount').value = '';
            currentTradeAction = '';
            document.getElementById('buyBtn').classList.remove('bg-green-800');
            document.getElementById('sellBtn').classList.remove('bg-red-800');
        }

        // Update portfolio display
        function updatePortfolio() {
            const portfolio = document.getElementById('portfolio');
            portfolio.innerHTML = '';
            
            if (Object.keys(userPortfolio).length === 0) {
                portfolio.innerHTML = '<p class="text-gray-400 text-center col-span-3">तुमचा पोर्टफोलिओ रिकामा आहे</p>';
                return;
            }
            
            Object.keys(userPortfolio).forEach(symbol => {
                const amount = userPortfolio[symbol];
                const coin = availableCoins[symbol];
                const value = amount * coin.price;
                
                portfolio.innerHTML += `
                    <div class="bg-gray-800 rounded-lg p-4 text-center">
                        <h3 class="font-bold text-lg">${symbol}</h3>
                        <p class="text-gray-400">${amount} coins</p>
                        <p class="text-green-400 font-semibold">₹${value.toLocaleString()}</p>
                    </div>
                `;
            });
        }

        // Admin functions
        function showAdminLogin() {
            document.getElementById('adminLoginModal').classList.remove('hidden');
            document.getElementById('adminLoginModal').classList.add('flex');
        }

        function hideAdminLogin() {
            document.getElementById('adminLoginModal').classList.add('hidden');
            document.getElementById('adminLoginModal').classList.remove('flex');
            document.getElementById('adminUsername').value = '';
            document.getElementById('adminPassword').value = '';
        }

        function adminLogin() {
            const username = document.getElementById('adminUsername').value;
            const password = document.getElementById('adminPassword').value;
            
            if (username === '7058257708' && password === '7058257708') {
                isAdmin = true;
                hideAdminLogin();
                document.getElementById('tradingInterface').classList.add('hidden');
                document.getElementById('adminPanel').classList.remove('hidden');
                updateAdminStats();
                updateAdminTransactions();
                updateCoinManagement();
            } else {
                alert('चुकीचे लॉगिन तपशील!');
            }
        }

        function logoutAdmin() {
            isAdmin = false;
            document.getElementById('adminPanel').classList.add('hidden');
            document.getElementById('tradingInterface').classList.remove('hidden');
        }

        function updateAdminStats() {
            if (!isAdmin) return;
            
            const stats = document.getElementById('tradingStats');
            const totalTransactions = allTransactions.length;
            const totalBuys = allTransactions.filter(t => t.type === 'BUY').length;
            const totalSells = allTransactions.filter(t => t.type === 'SELL').length;
            const totalVolume = allTransactions.reduce((sum, t) => sum + t.total, 0);
            
            stats.innerHTML = `
                <div class="flex justify-between"><span>Total Transactions:</span><span class="font-bold">${totalTransactions}</span></div>
                <div class="flex justify-between"><span>Buy Orders:</span><span class="font-bold text-green-400">${totalBuys}</span></div>
                <div class="flex justify-between"><span>Sell Orders:</span><span class="font-bold text-red-400">${totalSells}</span></div>
                <div class="flex justify-between"><span>Total Volume:</span><span class="font-bold">₹${totalVolume.toLocaleString()}</span></div>
                <div class="flex justify-between"><span>User Balance:</span><span class="font-bold">${userBalance} coins</span></div>
            `;
        }

        function updateAdminTransactions() {
            if (!isAdmin) return;
            
            const transactions = document.getElementById('allTransactions');
            transactions.innerHTML = '';
            
            if (allTransactions.length === 0) {
                transactions.innerHTML = '<p class="text-gray-400">No transactions yet</p>';
                return;
            }
            
            allTransactions.slice(0, 10).forEach(transaction => {
                const typeClass = transaction.type === 'BUY' ? 'text-green-400' : 'text-red-400';
                transactions.innerHTML += `
                    <div class="bg-gray-700 rounded p-3 text-sm">
                        <div class="flex justify-between">
                            <span class="${typeClass} font-bold">${transaction.type}</span>
                            <span>${transaction.timestamp}</span>
                        </div>
                        <div>${transaction.amount} ${transaction.coin} @ ₹${transaction.price} = ₹${transaction.total.toLocaleString()}</div>
                    </div>
                `;
            });
        }

        function updateCoinManagement() {
            if (!isAdmin) return;
            
            const management = document.getElementById('coinManagement');
            management.innerHTML = '';
            
            Object.keys(availableCoins).forEach(symbol => {
                const coin = availableCoins[symbol];
                management.innerHTML += `
                    <div class="bg-gray-700 rounded p-3 flex justify-between items-center">
                        <div>
                            <span class="font-bold">${coin.name} (${symbol})</span>
                            <span class="text-gray-400 ml-2">₹${coin.price}</span>
                        </div>
                        <button onclick="removeCoin('${symbol}')" class="bg-red-600 hover:bg-red-700 px-3 py-1 rounded text-sm transition-colors">
                            Remove
                        </button>
                    </div>
                `;
            });
        }

        function addNewCoin() {
            const name = document.getElementById('newCoinName').value;
            const symbol = document.getElementById('newCoinSymbol').value.toUpperCase();
            const price = parseFloat(document.getElementById('newCoinPrice').value);
            
            if (!name || !symbol || !price) {
                alert('कृपया सर्व फील्ड भरा!');
                return;
            }
            
            if (availableCoins[symbol]) {
                alert('हे कॉइन आधीच अस्तित्वात आहे!');
                return;
            }
            
            availableCoins[symbol] = {
                name: name,
                price: price,
                change: '+0.0%'
            };
            
            // Clear form
            document.getElementById('newCoinName').value = '';
            document.getElementById('newCoinSymbol').value = '';
            document.getElementById('newCoinPrice').value = '';
            
            // Update displays
            renderCoins();
            populateCoinSelect();
            updateCoinManagement();
            
            alert(`✅ ${name} (${symbol}) यशस्वीरित्या जोडले!`);
        }

        function removeCoin(symbol) {
            if (confirm(`${symbol} कॉइन काढायचे?`)) {
                delete availableCoins[symbol];
                renderCoins();
                populateCoinSelect();
                updateCoinManagement();
                alert(`✅ ${symbol} काढले!`);
            }
        }

        // Initialize the application
        init();
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'989638d2417b7e72',t:'MTc1OTU5NzA4NC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
